#!/usr/bin/env sh
# Push automatiquement après chaque commit (compatible Git Bash / Git for Windows)
set -e

# Vérifie que l'on est bien dans un repo git
git rev-parse --is-inside-work-tree >/dev/null 2>&1 || exit 0

branch=$(git rev-parse --abbrev-ref HEAD)
if [ "$branch" = "main" ]; then
  git push origin main
else
  git push -u origin "$branch"
fi
